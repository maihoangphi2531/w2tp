local maxGold = 99999999
local player = game:GetService("Players").LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Cáº¥u hÃ¬nh ID
local remoteIdToW2 = 19 -- Sang World 2
local remoteIdToW1 = 20 -- Vá» World 1
local placeIdW2 = 4310463940
local placeIdW1 = 4310463616

-- HÃ m láº¥y Remote Ä‘á»™ng (LuÃ´n láº¥y remote má»›i nháº¥t)
local function getTeleportRemote()
    local Shared = ReplicatedStorage:FindFirstChild("Shared")
    local TeleportRemote = Shared and Shared:FindFirstChild("Teleport")
    return TeleportRemote and TeleportRemote:FindFirstChild("TeleportToHub")
end

local function isInPlace(placeId)
    return game.PlaceId == placeId
end

local function isAlive()
    local char = player.Character
    return char and char:FindFirstChild("Humanoid") and char.Humanoid.Health > 0
end

local function getGoldValue()
    local success, val = pcall(function()
        return player.PlayerGui.Profile.Currency.Gold.Value
    end)
    return success and val or nil
end

local function teleportWithRetry(remoteId, targetPlaceId)
    local Remote = getTeleportRemote()
    if not Remote then warn("âŒ KhÃ´ng tÃ¬m tháº¥y Remote Teleport!") return end

    for i = 1, 10 do
        if isInPlace(targetPlaceId) then return true end -- ÄÃ£ á»Ÿ Ä‘Ãºng nÆ¡i
        
        if isAlive() then
            warn("ğŸ”„ Äang dá»‹ch chuyá»ƒn... Thá»­ láº§n " .. i)
            pcall(function() Remote:FireServer(remoteId) end)
        else
            warn("âš ï¸ NhÃ¢n váº­t Ä‘Ã£ cháº¿t, Ä‘á»£i há»“i sinh...")
        end
        
        task.wait(10) -- Äá»£i load game
    end
    return false
end

-- HÃ m xá»­ lÃ½ logic chÃ­nh (ÄÃ£ tÃ¡ch logic)
local function handleAutoFarm()
    local currentGold = getGoldValue()
    if not currentGold then return end -- ChÆ°a load xong GUI thÃ¬ bá» qua

    -- TRÆ¯á»œNG Há»¢P 1: Äang á»Ÿ World 1 (Äi farm)
    if isInPlace(placeIdW1) then
        if currentGold >= maxGold then
            warn("ğŸ’° VÃ ng Ä‘áº§y! Chuáº©n bá»‹ sang World 2...")
            teleportWithRetry(remoteIdToW2, placeIdW2)
        else
            -- Váº«n Ä‘ang farm, khÃ´ng lÃ m gÃ¬ cáº£
            -- warn("â›ï¸ Äang farm táº¡i World 1... VÃ ng: " .. currentGold)
        end

    -- TRÆ¯á»œNG Há»¢P 2: Äang á»Ÿ World 2 (Äi tiÃªu tiá»n)
    elseif isInPlace(placeIdW2) then
        if currentGold < maxGold then
            warn("âœ… VÃ ng Ä‘Ã£ giáº£m (" .. currentGold .. "). Vá» World 1 farm tiáº¿p...")
            task.wait(5) -- Äá»£i má»™t chÃºt cho cháº¯c cháº¯n
            teleportWithRetry(remoteIdToW1, placeIdW1)
        else
            warn("â³ Äang á»Ÿ World 2, Ä‘á»£i tiÃªu vÃ ng... (Hiá»‡n táº¡i: " .. currentGold .. ")")
            -- á» Ä‘Ã¢y chá» script summon hoáº·c tá»± quay tay
        end
        
    else
        warn("âš ï¸ KhÃ´ng xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c vá»‹ trÃ­ (KhÃ´ng pháº£i W1 cÅ©ng khÃ´ng pháº£i W2)")
    end
end

-- VÃ²ng láº·p chÃ­nh
warn("ğŸš€ Script Auto Teleport Ä‘Ã£ khá»Ÿi cháº¡y!")
while true do
    pcall(handleAutoFarm)
    task.wait(5) -- Kiá»ƒm tra má»—i 5 giÃ¢y
end
